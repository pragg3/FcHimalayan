{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contact Us - FC Himalayan</title>

  <link rel="stylesheet" href="{% static 'css/contact.css' %}" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
  <!-- Shared Header -->
  <header class="bg-green-800 text-white p-4 shadow">
    <div class="max-w-6xl mx-auto flex justify-between items-center">
      <div class="flex items-center space-x-3">
        <img src="{% static 'images/logo.png' %}" alt="Club Logo" class="h-10 w-10" />
        <a href="/">
            <span class="text-xl font-bold text-white">Fc Himalayan</span>
        </a>      
    </div>
      <nav class="space-x-4">
        <a href="/" class="hover:underline">Home</a>
        <a href="{% url 'player_list' %}" class="hover:underline">Players</a>
        <a href="{% url 'contact' %}" class="font-semibold underline">Contact</a>
      </nav>
    </div>
  </header>

  <main class="max-w-4xl mx-auto p-6 mt-8 bg-white shadow-md rounded-lg">
    <h1 class="text-2xl font-bold mb-4 text-green-800">Get in Touch</h1>
    <p class="text-gray-700 mb-6">Have questions or feedback? Reach out to us using the form below, or through our contact channels.</p>

    <!-- Success message - hidden by default -->
    <div id="successMessage" class="hidden mb-6 p-4 bg-green-100 border border-green-400 text-green-700 rounded">
      Thank you! Your message has been sent successfully.
    </div>

    <!-- Formspree form -->
    <form id="contactForm" action="https://formspree.io/f/xldnwbbg" method="POST" class="space-y-4" novalidate>
      <div>
        <label for="name" class="block font-medium mb-1">Name</label>
        <input type="text" id="name" name="name" class="input-field" required />
        <p class="text-red-600 mt-1 text-sm hidden" id="nameError">Please enter your name.</p>
      </div>

      <div>
        <label for="email" class="block font-medium mb-1">Email</label>
        <input type="email" id="email" name="email" class="input-field" required />
        <p class="text-red-600 mt-1 text-sm hidden" id="emailError">Please enter a valid email.</p>
      </div>

      <div>
        <label for="message" class="block font-medium mb-1">Message</label>
        <textarea id="message" name="message" rows="5" class="input-field" required></textarea>
        <p class="text-red-600 mt-1 text-sm hidden" id="messageError">Please enter your message.</p>
      </div>

      <button type="submit" class="submit-btn flex items-center justify-center space-x-2" id="submitBtn">
        <span>Send Message</span>
        <!-- Loading spinner -->
        <svg id="spinner" class="animate-spin h-5 w-5 text-white hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
          <circle
            class="opacity-25"
            cx="12"
            cy="12"
            r="10"
            stroke="currentColor"
            stroke-width="4"
          ></circle>
          <path
            class="opacity-75"
            fill="currentColor"
            d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"
          ></path>
        </svg>
      </button>
    </form>

    <!-- Contact Details -->
    <div class="mt-8">
      <h2 class="text-lg font-semibold mb-2 text-green-700">Contact Details</h2>
      <p>Email: <a href="mailto:contact@fchimalayan.com" class="contact-link">himalayanfc2@gmail.com</a></p>
      <p>Phone: <a href="tel:+1234567890" class="contact-link">+351 933823672</a></p>
    </div>
    <!-- Social Media Icons -->
<div class="mt-6 flex space-x-6">
    <!-- Instagram -->
    <a href="https://www.instagram.com/himalayan.fc/" target="_blank" aria-label="Instagram">
      <svg class="w-6 h-6" fill="red" viewBox="0 0 24 24">
        <path d="M7.75 2A5.75 5.75 0 0 0 2 7.75v8.5A5.75 5.75 0 0 0 7.75 22h8.5A5.75 5.75 0 0 0 22 16.25v-8.5A5.75 5.75 0 0 0 16.25 2h-8.5zM4.5 7.75A3.25 3.25 0 0 1 7.75 4.5h8.5A3.25 3.25 0 0 1 19.5 7.75v8.5a3.25 3.25 0 0 1-3.25 3.25h-8.5A3.25 3.25 0 0 1 4.5 16.25v-8.5zM12 7.25a4.75 4.75 0 1 0 0 9.5a4.75 4.75 0 0 0 0-9.5zM12 9a3 3 0 1 1 0 6a3 3 0 0 1 0-6zm5.25-.88a1.13 1.13 0 1 1-2.25 0a1.13 1.13 0 0 1 2.25 0z"/>
      </svg>
    </a>
  
    <!-- TikTok -->
    <a href="https://www.tiktok.com/@himalayan.fc9" target="_blank" aria-label="TikTok">
      <svg class="w-6 h-6" fill="black" viewBox="0 0 24 24">
        <path d="M12.68 2c1.2 0 2.3.9 2.48 2.1c.2 1.23 1.12 2.13 2.35 2.24c.37.03.72.05 1.05.06v2.6a7.06 7.06 0 0 1-3.02-.73v5.42a5.51 5.51 0 1 1-5.52-5.5c.22 0 .43.01.64.03v2.64a2.87 2.87 0 1 0 2.88 2.88V2h-.86z"/>
      </svg>
    </a>
  
    <!-- Facebook -->
    <a href="https://www.facebook.com/profile.php?id=100011428112948" target="_blank" aria-label="Facebook">
      <svg class="w-6 h-6" fill="#1877F2" viewBox="0 0 24 24">
        <path d="M13.5 3h2.75V0h-3.5C10.46 0 9 1.46 9 3.25v2.5H6v3h3v12h3.5V8.75h2.75l.25-3H12.5v-1c0-.41.34-.75.75-.75z"/>
      </svg>
    </a>
  </div>
  
  </main>

  <script>
    const form = document.getElementById('contactForm');
    const successMessage = document.getElementById('successMessage');
    const submitBtn = document.getElementById('submitBtn');
    const spinner = document.getElementById('spinner');

    // Error message elements
    const nameError = document.getElementById('nameError');
    const emailError = document.getElementById('emailError');
    const messageError = document.getElementById('messageError');

    function validateEmail(email) {
      // Simple email regex
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    }

    form.addEventListener('submit', function (e) {
      e.preventDefault();

      // Hide previous errors
      nameError.classList.add('hidden');
      emailError.classList.add('hidden');
      messageError.classList.add('hidden');
      successMessage.classList.add('hidden');

      let valid = true;

      // Validate name
      if (!form.name.value.trim()) {
        nameError.classList.remove('hidden');
        valid = false;
      }

      // Validate email
      if (!validateEmail(form.email.value.trim())) {
        emailError.classList.remove('hidden');
        valid = false;
      }

      // Validate message
      if (!form.message.value.trim()) {
        messageError.classList.remove('hidden');
        valid = false;
      }

      if (!valid) {
        return;
      }

      // Show spinner & disable button
      spinner.classList.remove('hidden');
      submitBtn.setAttribute('disabled', 'disabled');

      // Use Fetch API to submit form
      fetch(form.action, {
        method: 'POST',
        headers: { 'Accept': 'application/json' },
        body: new FormData(form)
      })
      .then(response => {
        spinner.classList.add('hidden');
        submitBtn.removeAttribute('disabled');
        if (response.ok) {
          form.reset();
          successMessage.classList.remove('hidden');
        } else {
          alert('Oops! There was a problem submitting your form. Please try again.');
        }
      })
      .catch(() => {
        spinner.classList.add('hidden');
        submitBtn.removeAttribute('disabled');
        alert('Oops! There was a problem submitting your form. Please try again.');
      });
    });
  </script>
</body>
</html>
